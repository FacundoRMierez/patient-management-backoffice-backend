# Sistema de InternacionalizaciÃ³n (i18n)

## ğŸ“‹ DescripciÃ³n

El backend ahora soporta mensajes en **EspaÃ±ol** e **InglÃ©s** siguiendo las mejores prÃ¡cticas de internacionalizaciÃ³n.

## ğŸŒ Formato de Respuestas

Todas las respuestas de error y Ã©xito incluyen mensajes en ambos idiomas:

```json
{
  "error": {
    "es": "Cuenta pendiente de aprobaciÃ³n. Por favor contacte a un administrador.",
    "en": "Account is pending approval. Please contact an administrator."
  }
}
```

## ğŸ“š CategorÃ­as de Mensajes

### ğŸ” AutenticaciÃ³n (`auth`)
- `accountPendingApproval` - Cuenta pendiente de aprobaciÃ³n
- `accountInactive` - Cuenta inactiva
- `invalidCredentials` - Credenciales invÃ¡lidas
- `emailAlreadyExists` - Email ya existe
- `userNotFound` - Usuario no encontrado
- `tokenInvalid` - Token invÃ¡lido
- `unauthorized` - No autorizado
- `forbidden` - Acceso denegado

### ğŸ‘¤ GestiÃ³n de Usuarios (`user`)
- `created` - Usuario creado
- `updated` - Usuario actualizado
- `deleted` - Usuario eliminado
- `approved` - Usuario aprobado
- `alreadyApproved` - Ya aprobado
- `passwordChanged` - ContraseÃ±a cambiada
- `currentPasswordIncorrect` - ContraseÃ±a actual incorrecta

### âœ… ValidaciÃ³n (`validation`)
- `invalidEmail` - Email invÃ¡lido
- `passwordTooShort` - ContraseÃ±a muy corta
- `requiredField` - Campo requerido
- `invalidRole` - Rol invÃ¡lido

### âš™ï¸ General (`general`)
- `success` - OperaciÃ³n exitosa
- `error` - Error general
- `notFound` - No encontrado
- `serverError` - Error del servidor

## ğŸ’» Uso para Desarrolladores

### En Servicios

```typescript
import { getMessageBoth } from '../config/messages';

// Crear error con i18n
if (!user.isApproved) {
  const error: any = new Error(getMessageBoth('auth.accountPendingApproval').es);
  error.i18n = getMessageBoth('auth.accountPendingApproval');
  throw error;
}
```

### En el Frontend

El frontend puede elegir quÃ© idioma mostrar:

```typescript
// Ejemplo en React/Next.js
const errorMessage = error.response.data.error;

// Mostrar en espaÃ±ol
<p>{errorMessage.es}</p>

// Mostrar en inglÃ©s
<p>{errorMessage.en}</p>

// Detectar idioma del navegador
const userLang = navigator.language.startsWith('es') ? 'es' : 'en';
<p>{errorMessage[userLang]}</p>
```

## ğŸ”„ Ejemplos de Respuestas

### Error de Login - Usuario Pendiente de AprobaciÃ³n

**Request:**
```bash
POST /api/users/login
{
  "email": "user@example.com",
  "password": "password123"
}
```

**Response (400):**
```json
{
  "error": {
    "es": "Cuenta pendiente de aprobaciÃ³n. Por favor contacte a un administrador.",
    "en": "Account is pending approval. Please contact an administrator."
  }
}
```

### Error de Login - Credenciales InvÃ¡lidas

**Response (400):**
```json
{
  "error": {
    "es": "Credenciales invÃ¡lidas.",
    "en": "Invalid credentials."
  }
}
```

### Usuario Eliminado

**Response (200):**
```json
{
  "message": {
    "es": "Usuario eliminado exitosamente.",
    "en": "User deleted successfully."
  }
}
```

### Error de ValidaciÃ³n (Zod)

**Response (400):**
```json
{
  "error": {
    "es": "Error de validaciÃ³n",
    "en": "Validation error"
  },
  "details": [
    {
      "field": "email",
      "message": "Invalid email"
    }
  ]
}
```

## ğŸ¯ Ventajas

âœ… **Frontend Flexible**: El frontend puede elegir el idioma a mostrar  
âœ… **SEO Mejorado**: Soporte multi-idioma desde el backend  
âœ… **Mantenibilidad**: Todos los mensajes centralizados en un archivo  
âœ… **Escalabilidad**: FÃ¡cil agregar mÃ¡s idiomas en el futuro  
âœ… **UX Mejorada**: Mensajes de error claros en el idioma del usuario  

## ğŸš€ Futuras Mejoras

- [ ] Agregar mÃ¡s idiomas (portuguÃ©s, francÃ©s, etc.)
- [ ] Sistema de preferencias de idioma por usuario
- [ ] Header `Accept-Language` para detecciÃ³n automÃ¡tica
- [ ] Traducciones de mensajes de validaciÃ³n de Zod
- [ ] InterpolaciÃ³n de variables en mensajes dinÃ¡micos
